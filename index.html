<!DOCTYPE html>
<html>
<head>
<style>
table, th, td {
  border: 1px solid white;
}
.c11{
  border: 3px solid black;
}
</style>

<title>{{ title }} Sentiment Analysis</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
<div class="container c11">

  <div class="container-fluid p-5 bg-success text-white text-center">
    <h1>Sentiment Analysis</h1>
  </div>

  <br><br>

  <div align="center">
    <form method="POST">
      <textarea name="text1" placeholder="Say Something:......" rows="5" cols="100"></textarea><br><br>
      <input class="btn btn-success" type="submit">
    </form>
  </div>

{% if final %}

  <br><br>
  <div align="center">

    <h2 class="bg-success text-white">
      The Sentiment of "....{{ text1 }}...."
    </h2>

    <h2>
      Sentiment: <span id="sentimentResult"></span>
    </h2>

    <script>
      let positive = {{ text2 | tojson }};
      let neutral  = {{ text3 | tojson }};
      let negative = {{ text5 | tojson }};

      let resultElement = document.getElementById('sentimentResult');

      if (positive > negative && positive > neutral) {
        resultElement.textContent = "Positive ðŸ˜Š";
      } else if (negative > positive && negative > neutral) {
        resultElement.textContent = "Negative ðŸ˜Ÿ";
      } else {
        resultElement.textContent = "Neutral ðŸ™‚";
      }
    </script>

    <h2>
      Sentiment Result = {{ "%.2f"|format(final * 100) }}% Positive
    </h2>

    <h2>Score Table</h2>

    <div class="container table-responsive-sm">
      <table class="table table-bordered">
        <tr>
          <th>SENTIMENT</th>
          <th>SCORE (%)</th>
        </tr>
        <tr>
          <td>Positive ðŸ˜Š</td>
          <td>{{ "%.2f"|format(text2 * 100) }}</td>
        </tr>
        <tr>
          <td>Neutral ðŸ™‚</td>
          <td>{{ "%.2f"|format(text3 * 100) }}</td>
        </tr>
        <tr>
          <td>Negative ðŸ˜Ÿ</td>
          <td>{{ "%.2f"|format(text5 * 100) }}</td>
        </tr>
        <tr>
          <th>Average Percentage</th>
          <th>{{ "%.2f"|format(text4 * 100) }}</th>
        </tr>
      </table>
    </div>

  </div>

{% endif %}

<br><br>
</div>
</body>
</html>
